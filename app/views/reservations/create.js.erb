// Locate the <tbody> in the HTML
if (typeof vatableBodyriable === 'undefined') {
    tableBody = document.querySelector('tbody#reservations')
}

// Insert the newly-populated `_critter` partial as the first row in the
// table, passing it the @critter value as defined in the controller's
// `create` action
<% unless current_admin %>
document.querySelector("#unconfirmed_reservations").className = "submit_reservation"
<% end %>
tableBody.insertAdjacentHTML('afterbegin', "<%= escape_javascript(render partial: 'reservations', locals: {reservation: @reservation} ) %>")

// Make the form disappear by setting the placeholder div's content
// to an empty string
document.getElementById("new-form-placeholder").innerHTML = ""